<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <h1>Update User</h1>
    <div class="mainPageAndCancelButtonsInUpdatePage">
      <div class="backToMainPageButtonInUpdateUserPage">
        <form method="POST" action="/mainPage">
          <button>Back to Main Page</button>
        </form>
      </div>
      <div class="cancelButtonInUpdatePage">
        <button><a href="/usersManagement">Cancel</a></button>
      </div>
    </div>
    <br />
    <br />
    <form
      id="updateUserForm"
      method="POST"
      action="/updateUser/<%= user._id %>"
      class="updateUserForm"
    >
      <br />
      <div class="columnForm">
        <label for="firstName">First Name:</label>
        <input type="text" name="firstName" value="<%= user.firstName %>" />
        <br />
        <br />
        <label for="lastName">Last Name:</label>
        <input type="text" name="lastName" value="<%= user.lastName %>" />
        <br />
        <br />
        <label for="username">Username:</label>
        <input type="text" name="username" value="<%= user.username %>" />
        <br />
        <br />
        <label for="sessionTimeOut">Session TimeOut:</label>
        <input
          type="number"
          name="sessionTimeOut"
          value="<%= user.sessionTimeOut %>"
        />
        <br />
        <br />
        <label for="createdDate">Created Date:</label>
        <input
          type="text"
          name="createdDate"
          value="<%= user.createdDate %>"
          readonly
        />
      </div>
      <br />
      <br />
      <br />
      <br />
      <h4>Permissions:</h4>
      <div class="column">
        <div class="row">
          <br />
          <div class="viewSubscriptions">
            <input type="checkbox" name="permissions" value="viewSubscriptions"
            <%= user.permissions.includes('viewSubscriptions') ? 'checked' : ''
            %> />
            <label for="permissions"> View Subscriptions </label>
          </div>
          <div class="createSubscriptions">
            <input type="checkbox" name="permissions"
            value="createSubscriptions" <%=
            user.permissions.includes('createSubscriptions') ? 'checked' : '' %>
            />
            <label for="permissions"> Create Subscriptions </label>
          </div>
          <div class="deleteSubscriptions">
            <input type="checkbox" name="permissions"
            value="deleteSubscriptions" <%=
            user.permissions.includes('deleteSubscriptions') ? 'checked' : '' %>
            />
            <label for="permissions"> Delete Subscriptions </label>
          </div>
          <div class="updateSubscriptions">
            <input type="checkbox" name="permissions"
            value="updateSubscriptions" <%=
            user.permissions.includes('updateSubscriptions') ? 'checked' : '' %>
            />
            <label for="permissions"> Update Subscription </label>
          </div>
        </div>
        <br />
        <div class="row">
          <div class="viewMovies">
            <input type="checkbox" name="permissions" value="viewMovies" <%=
            user.permissions.includes('viewMovies') ? 'checked' : '' %> />
            <label for="permissions"> View Movies </label>
          </div>
          <div class="createMovies">
            <input type="checkbox" name="permissions" value="createMovies" <%=
            user.permissions.includes('createMovies') ? 'checked' : '' %> />
            <label for="permissions"> Create Movies </label>
          </div>
          <div class="deleteMovies">
            <input type="checkbox" name="permissions" value="deleteMovies" <%=
            user.permissions.includes('deleteMovies') ? 'checked' : '' %> />
            <label for="permissions"> Delete Movies </label>
          </div>
        </div>
      </div>
      <br />
      <div class="updateUserButton">
        <button onclick="this.form.submit()" type="submit">Update User</button>
      </div>
    </form>
  </body>
</html>
